<!DOCTYPE html>
<html lang="{{ app.request.getLocale() }}">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>{% block title %}{{ "CryptoStats - Home"|trans }}{% endblock %}</title>
        <link rel="shortcut icon" type="image/x-icon" href="{{ asset('images/bitcoin.png') }}">
        <link rel="apple-touch-icon" href=""/>
        {% block stylesheets %}
            <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
            <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
            <link href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap" rel="stylesheet">
            <link href="{{ asset('css/css.css') }}" rel="stylesheet">
        {% endblock %}
    </head>
    <body>
        <div class="wrapper-uploading" style="display:none;">
            <div class="loader">Loading...</div>
        </div>

        {% include "_content_top.html.twig" %}

        <div class="container-fluid">
            {% block body %}{% endblock %}

        </div>

        {% block javascripts %}
            <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
            <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

            <script src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script>
            <script src="https://cdn.datatables.net/1.10.24/js/dataTables.bootstrap4.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/canvasjs/1.7.0/canvasjs.min.js" integrity="sha512-FJ2OYvUIXUqCcPf1stu+oTBlhn54W0UisZB/TNrZaVMHHhYvLBV9jMbvJYtvDe5x/WVaoXZ6KB+Uqe5hT2vlyA==" crossorigin="anonymous"></script>

            <script type="text/javascript">
                $(document).ready(function () {
                    $('#sidebarCollapse').on('click', function () {
                        $('#sidebar').toggleClass('active');
                    });
                });

                $(document).ready(function() {
                    $('#table-data').DataTable({
                        "paging": true,
                        'info': false,
                        "searching": true,
                    });
                } );

                $(".update-element").on('click', function(event){
                    event.preventDefault();
                    $('.wrapper-uploading').show();
                    $.ajax({
                        url: $(this).data('url'),
                        type: 'POST',
                        success: function(response) {
                            location.reload();
                        },
                        error: function(response) {
                            alert("{{ 'Connection error, check API params and try again'|trans }}");
                        }
                    })
                });

                $('.update-exchange-wallet a').on('click', function(event) {
                    event.preventDefault();
                    $('.wrapper-uploading').show();
                    $.ajax({
                        url: $(this).data('url'),
                        type: 'POST',
                        success: function(response) {
                            location.reload();
                        }
                    });
                });
            </script>
        {% endblock %}
    </body>
</html>
